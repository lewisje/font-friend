/*!
 * Soma FontFriend 3.0.1
 * http://somadesign.ca/projects/fontfriend
 * 
 * Copyright (c) 2009-11 Matt Wiebe 
 * Licensed under the MIT license
 * http://www.opensource.org/licenses/mit-license.php
 *
 * Uses some code (c) 2009-10 Ryan Seddon from
 * http://labs.thecssninja.com/font_dragr/
 * Licensed under the MIT license
 *
*/
(function(m,u){var h,p,t,c="undefined",v={version:"3.0.1",css:"#font-friend{overflow:hidden;position:fixed;bottom:0;left:30px;background-color:#fff;background-color:rgba(255,255,255,0.93);width:740px;color:#222;-webkit-box-shadow:1px 1px 5px rgba(0,0,0,.3);-moz-box-shadow:1px 1px 5px rgba(0,0,0,.3);box-shadow:1px 1px 5px rgba(0,0,0,.3);z-index:10000;text-align:left;height:280px}#font-friend,#ff-drop h6,#ff-drop li{line-height:1.5!important}#ff-drop{padding:12px 12px 12px 36px}#ff-toggle{background-color:#222;color:#eee;display:block;width:12px;height:16px;padding:0 1px 0 3px;position:absolute;top:0;left:0;font-size:16px;line-height:1!important;cursor:pointer;z-index:10001;-moz-transition:.25s all ease-in-out;-webkit-transition:.25s all ease-in-out;-o-transition:.25s all ease-in-out;transition:.25s all ease-in-out}#ff-toggle sup{font-size:13px;line-height:1!important;vertical-align:super;display:none}.open #ff-toggle sup{display:inline}#ff-toggle:hover{color:#fff;background-color:#555}.open #ff-toggle{width:auto;height:32px;font-size:32px;padding:0 3px}#ff-drop form{background:0;color:inherit;float:none}#ff-drop h6{font-size:13px;border-bottom:1px solid #aaa;margin:0 0 6px!important;padding:0!important;text-indent:0!important;float:none!important}#ff-drop>div{float:left;width:120px;padding-right:20px;margin:0!important}#ff-drop>div.wrap>div{margin-bottom:12px;font-size:11px!important;position:relative}#ff-drop div#ff-selector{width:130px}#ff-drop div#ff-font-family{width:240px}#ff-selector p{font-size:9px!important;line-height:1.2!important;margin:1em 0 0!important;padding:0!important}#ff-controls{position:absolute;bottom:60px;left:65px;width:55px!important;height:60px;margin:0!important;padding:0!important}#ff-controls div{position:absolute;font-size:20px;width:1em;height:1em;color:#555;min-width:inherit!important;min-height:inherit!important;padding:0;margin:0;float:none;text-align:center}#ff-controls>div,.ff-toggler>span,#family-custom-add{font-family:sans-serif!important;font-weight:normal!important;-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer}#ff-controls div:hover{color:#000}#ff-controls .up{left:1em;top:0}#ff-controls .down{left:1em;bottom:0}#ff-controls .left{left:0;top:1em}#ff-controls .right{right:-.25em;top:1em}#ff-drop #ff-font-family ul{float:left;width:110px;padding-right:5px}#ff-drop #ff-font-family ul#ff-font-family-sans{padding-right:10px;width:115px}#ff-drop ol li{list-style:none outside}#ff-drop ol,#ff-drop ul{margin:0;padding:0}#ff-drop li{font-size:11px!important; margin:0!important;padding:0!important;list-style:none outside none!important;text-indent:0!important;height:auto!important}#ff-drop li.core{margin-bottom:4px!important;padding:0!important}#ff-drop ul li:hover{cursor:pointer;background-color:#e6e6e6!important}#ff-drop ul li.family-custom{margin:12px 0 0!important}#ff-drop ul li.family-custom:hover{cursor:default;background:none!important}#family-custom-add{display:inline-block;color:#aaa;line-height:1!important;font-size:15px!important;color:#666!important;vertical-align:top;padding:1px 3px 3px}#family-custom-add:hover,#family-custom-add:focus{background-color:#555!important;color:#fff!important}#family-custom{width:85px}#ff-drop ol input[type=radio]{margin-left:-5px;width:auto!important}#ff-blah{width:100px;margin-left:5px}#ff-drop ol label{margin-left:5px;display:inline!important}#ff-credit{position:absolute;bottom:21px;left:32px;font-size:9px;margin:0!important}#font-friend a{color:#4c0003!important;text-decoration:underline!important;border:0!important}#font-friend a:hover{color:#a60007!important}#ff-clear{position:absolute;bottom:0;right:0;padding:5px 5px 0!important;text-decoration:line-through;opacity:.1;font-size:21px;margin:0!important;width:auto!important}#ff-clear:hover{opacity:1;cursor:pointer}#ff-font-drop{font-size:11px!important;background-color:#e6e6e6;padding:15px 0;text-align:center;border:1px solid #aaa;margin-bottom:6px}#ff-font-drop.dropzone{background-color:#fff;border-color:#111}#ff-drop select{width:105px!important;margin-left:15px!important}#ff-drop select option{font-size:10px!important}#ff-drop .ff-hidden{display:none}#ff-drop .ff-clickable{cursor:pointer}#ff-font-family h6 span{text-transform:uppercase!important;font-size:75%;font-weight:normal!important;color:#111!important;letter-spacing:.02em;line-height:1;display:inline-block}#ff-font-family h6 .ff-active{color:#aaa!important}#ff-font-family .ff-custom{padding:0 6px;border-right:1px solid #bbb;margin-right:6px}#ff-font-family h6.typekit-badge{background:url(http://typekit.com/favicon.ico) no-repeat center right}#ff-drop #ff-font-family #ff-font-family-custom{width:100%;-webkit-column-count:2;-moz-column-count:2;column-count:2;-webkit-column-gap:12px;-moz-column-gap:12px;column-gap:12px}.ff-toggler{position:absolute;height:20px;top:27px;left:-4px}.ff-toggler span{position:absolute;display:block;left:0;top:0;height:8px;width:8px;line-height:1!important;font-size:8px!important;text-align:center;color:#aaa!important;padding:2px 4px!important}.ff-toggler span:hover{color:#333!important}.ff-toggler span.ff-down{top:auto;bottom:0}#ff-drop [data-ff=fontFamily] li{height:1.5em!important;overflow:hidden;text-overflow:ellipsis}",html:'<div id="ff-drop"><span id="ff-toggle">F<sup>2</sup></span><div id="ff-selector"><h6>Selector</h6><form action="" method="get"><ol><li><input type="radio" name="jq-select" checked="checked" id="jq1"><label for="jq1">body</label></li><li><input type="radio" name="jq-select" id="jq2"><label for="jq2">h1,h2,h3,h4,h5,h6</label></li><li><input type="radio" name="jq-select" id="jq3"><label for="jq3">p</label></li><li><input type="radio" name="jq-select" id="jq4"><input type="text" name="ff-blah" value="roll your own" id="ff-blah"></li></ol></form><p>Roll your own selector using <a href="http://api.jquery.com/category/selectors/">jQuery selectors</a>.</p></div><div id="ff-font-family"><h6>Font Family</h6><ul id="ff-font-family-sans" data-ff="fontFamily"><li>Arial</li><li>Verdana</li><li>Tahoma</li><li class="core">Trebuchet MS</li><li>Helvetica</li><li>Helvetica Neue</li><li>Gill Sans</li><li>Century Gothic</li><li>Lucida Grande</li><li>Lucida Sans Unicode</li><li>Calibri</li><li>Corbel</li><li>Candara</li></ul><ul id="ff-font-family-serif" data-ff="fontFamily"><li>Times New Roman</li><li class="core">Georgia</li><li>Times</li><li>Palatino</li><li>Palatino Linotype</li><li>Baskerville</li><li>Hoefler Text</li><li>Garamond</li><li>Constantia</li><li>Cambria</li><li class="family-custom"><input type="text" name="family-custom" value="your font family" id="family-custom"><span id="family-custom-add">+</span></li></ul></div><div class="wrap"><div id="ff-font-size"><h6>Font Size</h6><select data-ff="fontSize"><option>10</option><option>11</option><option>12</option><option>14</option><option>16</option><option>18</option><option>21</option><option>24</option><option>36</option><option>48</option><option>60</option><option>72</option></select></div><div id="ff-font-weight"><h6>Font Weight</h6><select data-ff="fontWeight"><option>100</option><option>200</option><option>300</option><option value="400" selected>400 (normal)</option><option>500</option><option>600</option><option value="700">700 (bold)</option><option>800</option><option>900</option></select></div><div id="ff-line-height"><h6>Line Height</h6><select data-ff="lineHeight"><option>1</option><option>1.1</option><option>1.2</option><option>1.3</option><option>1.4</option><option selected>1.5</option><option>1.6</option><option>1.75</option><option>2</option><option>2.5</option><option>3</option></select></div><div id="ff-font-style"><h6>Font Style</h6><ul data-ff="fontStyle"><li>italic</li><li>normal</li></ul></div></div><div class="wrap"><div id="ff-font-face"><h6>@font-face</h6><div id="ff-font-drop">Drag a font here.</div><ul data-ff="fontFamily"></ul></div><div id="ff-text-transform"><h6>Text Transform</h6><ul data-ff="textTransform"><li>uppercase</li><li>lowercase</li><li>capitalize</li><li>none</li></ul></div><div id="ff-font-variant"><h6>Font Variant</h6><ul data-ff="fontVariant"><li>small-caps</li><li>normal</li></ul></div></div><div id="ff-controls"><div class="left">&larr;</div><div class="right">&rarr;</div><div class="up">&uarr;</div><div class="down">&darr;</div></div><div id="ff-credit"><a href="http://somadesign.ca/projects/fontfriend/" title="Soma FontFriend homepage">Soma FontFriend</a></div><div id="ff-clear" title="clear all styles">S</div></div>',customFamiles:false,customFamilyMap:[]};
function z(){if(typeof(m.jQuery)===c){var C=u.createElement("script");C.src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.2/jquery.min.js";u.getElementsByTagName("head")[0].appendChild(C);t=setInterval(d,100)}else{y()}}z();function d(){if(typeof(m.jQuery)!==c){clearInterval(t);y()}}function y(){h=m.jQuery;if(h("#font-friend").size()!==0){return false}p=h("body");h("head").append('<style id="font-friend-stylesheet" type="text/css" media="screen">'+v.css+"</style>");p.append("<div id='font-friend'></div>");h("#font-friend").html(v.html).addClass("open");h("#ff-credit").append("<span> "+v.version+"</span>");i();g();n();k();s();b();q()}function q(){var C=u.styleSheets||[],D=[];h.each(C,function(E,G){try{h.each(G.cssRules,function(I,J){if(J.type==CSSRule.FONT_FACE_RULE){var H=J.style.getPropertyValue("font-family");if(H){H=H.replace(/^"|'/,"").replace(/"|'$/,"");if(H!=="testfont"){D.push(H)}}}})}catch(F){}});if(D.length>0){x(j(D))}}function g(){if(typeof(fontFriendFamilies)!==c){v.customFamilies=fontFriendFamilies;if(!h.isArray(v.customFamilies)){var C=[];h.each(v.customFamilies,function(D,E){C.push(D)});v.customFamilies=C;v.customFamilyMap=fontFriendFamilies}}else{if(p.attr("data-ff-families")){v.customFamilies=p.attr("data-ff-families").split(",")}}}function s(){v.wfs=(m.location.href=="http://webfontspecimen.com/demo/");v.wfsName=(v.wfs)?h("h1, .bodysize tr:first-child th:first-child"):false;if(!v.wfs&&h("body").attr("id")=="soma-web-font-specimen"){v.wfs=true;v.wfsName=h("h1, .bodysize tr:first-child th.base")}if(v.wfs){v.wfsOriginalName=h("h1").text();v.wfsTitle=h("title").text()}}function n(){h("#font-friend").find("select").each(function(C){var D=h('<span class="ff-toggler"><span class="ff-up" title="Increase">&#9650;</span><span class="ff-down" title="Decrease">&#9660;</span></span>');D.insertBefore(this)});h(".ff-toggler span").click(a)}function a(D){var C=h(this),H=D.target.className=="ff-up",G=C.parent().next(),E=G.find(":selected"),F;F=(H)?E.next():E.prev();if(F.size()==0){F=(H)?G.find(":first"):G.find(":last")}F.attr("selected","selected");G.trigger("change")}function o(){var C=null;h("script").each(function(E){var D=this.src.match(/use\.typekit\.com\/(.+)\.js/);if(D){C=D[1];return false}});return C}function b(){var C=o();if(!C){return false}h.getJSON("https://typekit.com/api/v1/json/kits/"+C+"/published?callback=?",function(D){if(!D.errors){var E=[];h.each(D.kit.families,function(F,G){v.customFamilyMap[G.name]=G.css_names.join(",");E.push(G.name)});x(E);h("#ff-font-family h6").addClass("typekit-badge")}})}function x(H){var C=h("#ff-font-family-custom"),F=h('<ul id="ff-font-family-custom" data-ff="fontFamily" class="ff-hidden"></ul>'),E="",D="Click to toggle between custom &amp; stock font families",G=': <span class="ff-custom ff-active">Custom</span><span class="ff-stock">Stock</span>';h.each(H,function(I,J){E+="<li>"+J+"</li>"});if(C.size()===1){C.append(E);return k()}E=F.append(E);h("#ff-font-family").append(E);h("#ff-font-family > h6").addClass("ff-clickable").attr("title",D).append(G).click(function(){var J=h(this),M=J.hasClass("ff-custom")?true:false,P=h("#ff-font-family-custom"),L=h("#ff-font-family-sans, #ff-font-family-serif"),M=!P.is(":visible"),N=J.children(),O=100,K,I;if(M){K=L;I=P}else{K=P;I=L}N.toggleClass("ff-active");K.fadeOut(O,function(){I.fadeIn(O)})});k();h("#ff-font-family > h6").click()}if(v.customFamilies){x(v.customFamilies)}function f(C){if(!v.wfs){return false}if(!C){v.wfsName.text(v.wfsOriginalName);h("title").text(v.wfsTitle)}else{v.wfsName.text(C);h("title").text(v.wfsTitle.replace("Font name",C))}}function w(C){if(typeof(v.customFamilyMap[C])!==c){C=v.customFamilyMap[C]}return C+",monospace"}function k(){h("#ff-font-family li, #ff-font-face li").each(function(){var C=h(this);C.css("fontFamily",w(C.text()))})}function e(E,D){var C=new FileReader();C.name=D;C.onloadend=function(F){B(F)};C.readAsDataURL(E)}function l(C){return C.replace(/\..+$/,"").replace(/\W+/,"-").replace(/-|_/," ").replace(/^([a-z])|\s+([a-z])/g,function(D){return D.toUpperCase()
})}function A(C){var E=C.originalEvent.dataTransfer,D=E.files,J=D.length,F=/^.*\.(ttf|otf|woff)$/i;r(C);for(var I=0;I<J;I++){var G=D[I],H=G.name,K;if(H.match(F)){K=l(H);e(G,K)}else{alert("Invalid file extension. Will only accept ttf, otf, or woff font files")}}}function B(D){var C=D.target.name,E=D.target.result;var F=E.split("base64");if(F[0].indexOf("application/octet-stream")==-1){F[0]="data:application/octet-stream;base64";E=F[0]+F[1]}h("<style type='text/css'>@font-face{font-family: "+C+"; src:url("+E+");}</style> ").appendTo("head");x([C]);h("#ff-font-family-custom").find("li:last").click()}function r(C){C.stopPropagation();C.preventDefault()}function j(G){var C=G.length,F={},E=[],D;for(D=0;D<C;D+=1){F[G[D]]=G[D]}for(D in F){E.push(F[D])}return E}function i(){var C=h("#font-friend");v.width=C.outerWidth();v.height=C.outerHeight();h("#ff-toggle").toggle(function(){C.removeClass("open").animate({height:16,width:16},100)},function(){C.addClass("open").animate({height:v.height,width:v.width},100)});h("#ff-drop ul > li").live("click",function(){if(h(this).children("input").length){return false}var D=h(this),F=D.parent().attr("data-ff"),G=D.text(),E=h("#ff-drop ol input:checked").next().text();if(E==""){E=h("#ff-drop ol input:checked").next().attr("value")}if(F=="fontFamily"){f(G);G=w(G)}h(E).css(F,G)});h("#ff-drop select").change(function(){var E=h(this).attr("data-ff"),F=parseFloat(h(this).find("option:selected").val()),D=h("#ff-drop ol input:checked").next().text();if(D==""){D=h("#ff-drop ol input:checked").next().attr("value")}h(D).css(E,F)});h("#ff-drop li.family-custom").unbind();h("#family-custom").keyup(function(E){var F=h("#family-custom").attr("value"),D=h("#ff-drop ol input:checked").next().text();if(D==""){D=h("#ff-drop ol input:checked").next().attr("value")}if(E.keyCode==13){h("#family-custom-add").click()}else{h(D).css("fontFamily",F);f(F)}r(E)});h("#ff-controls div").click(function(){if(h(this).hasClass("left")){h("#font-friend").css({left:30,right:"auto"})}if(h(this).hasClass("right")){h("#font-friend").css({right:30,left:"auto"})}if(h(this).hasClass("up")){h("#font-friend").css({top:0,bottom:"auto"})}if(h(this).hasClass("down")){h("#font-friend").css({bottom:0,top:"auto"})}});h("#ff-blah, #family-custom").each(function(D){h(this).attr("data-ff",h(this).attr("value"))}).click(function(){h(this).prev().attr("checked","checked");if(h(this).attr("value")==h(this).attr("data-ff")){h(this).removeAttr("value")}else{h(this).select()}});h("#ff-clear").click(function(){h("*").not("[data-ff=fontFamily]").removeAttr("style");k();f()});h("#family-custom-add").click(function(){var D=h(this).prev(),E=D.val();if(E!=="your font family"&&E!==""){x([E]);D.val("").select()}});h("#ff-font-drop").bind("dragover",r).bind("dragenter dragleave",function(D){h(this).toggleClass("dropzone");r(D)}).bind("drop",A)}}(this,this.document));